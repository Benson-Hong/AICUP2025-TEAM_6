# AICUP2025-TEAM_6
AI CUP 2025 春季賽 醫病語音敏感個人資料辨識競賽 TEAM6 程式碼

## 簡介 (Project Introduction)
我們參加 AI CUP 2025 春季賽，主要目標是**辨識醫病語音中的敏感個人資料 (Sensitive Personal Information, SPI)**。我們利用深度學習模型來處理語音資料，並將辨識出的 SPI 進行去識別化，以確保病患隱私。

## 檔案結構 (File Structure)
* `競賽任務1程式碼.ipynb`: 包含任務一的程式碼，主要負責音訊載入與基礎語音轉錄，將音訊轉換為文字。
* `競賽任務2程式碼.py`: 包含任務二的核心程式碼，主要負責語音轉錄後的內容分析，包括敏感詞識別及其時間戳定位。
* `README.md`: 你正在閱讀的這份文件，提供專案的簡單說明。

## Google Colaboratory (Colab)
本專案主要在 Google Colaboratory (Colab) 環境中開發與運行，並推薦使用 T4 GPU 執行階段以獲得最佳效能。
免費的 T4 GPU 執行不完是正常的，建議分次執行。

## 環境設定與依賴 (Setup and Dependencies)
為了運行本專案的程式碼，你需要準備以下環境和安裝必要的套件：
### 1. Colab Secrets 設定
需要存取某些受限的模型或資料集，這需要您的身分驗證資訊（例如 Hugging Face token 或資料集密碼，方法是使用環境變數或 Colab 的秘密管理功能來儲存和存取這些資訊。
### 2. 部分環境與套件安裝
* torch 和 torchaudio：用於深度學習模型的運行，請根據您的硬體（CPU 或 GPU）和 CUDA 版本選擇合適的安裝方式。
* transformers：Hugging Face 模型的核心庫。
* accelerate：用於提高模型推理效率。
* huggingface_hub：用於與 Hugging Face Hub 互動，包括模型下載和登入。
* soundfile：音訊檔案讀寫庫。
### 3. Hugging Face 登入
為了下載和使用 whisper 模型，需要登入 Hugging Face。
### 4. 資料集準備
資料集全數為壓縮檔並掛載 Google Drive，程式碼會自動處理壓縮檔的解壓縮。


## 程式碼簡介
### 任務一
用於執行語音轉錄任務。它使用了librosa庫來載入音訊檔案，並對其進行語音識別，將音訊轉換為文字。
#### 主要功能
* 載入並處理音訊檔案 (WAV格式)。
* 執行語音轉錄，生成文字結果。
* 處理多個音訊檔案，並顯示轉錄進度。
### 任務二
用於對語音轉錄結果進行進一步的內容分析。將音訊轉換為文字、還能識別文字中的敏感詞與時間戳。
#### 主要功能
* 使用 whisper 模型進行高品質語音轉錄。
* 從轉錄結果中識別預定義的關鍵字（敏感詞）。
* 提供識別到的關鍵字在音訊中的時間戳。
* 支援批量處理音訊檔案。
* 具備斷點續傳功能，避免重複處理已完成的檔案。

## 如何運行程式碼 (How to Run the Code)
### 任務一
*在 Google Colab 中開啟 競賽任務1程式碼.ipynb。
*依序執行筆記本中的所有程式碼單元。這將會執行 環境設定、定義輔助函式，檔案路徑、模型微調、Whisper 模型轉錄。
*請注意檢查每個單元的輸出，確保沒有錯誤。
### 任務二
把task1_answer上傳至colab中的臨時資料夾後，可將程式碼直接複製到colab上執行
任務二執行時間過長，可能需要更好的GPU。












